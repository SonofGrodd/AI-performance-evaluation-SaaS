# Fredan AI Employee Assessment ‚Äì Backend Setup Summary

**Generated on:** 2025-07-24 12:36:39 UTC

---

## ‚úÖ 1. Project Setup

- Supabase configured with PostgreSQL schema.
- Backend with Express + TypeScript + Supabase JS.
- `.env` file contains `SUPABASE_URL`, `ANON_KEY`, `SERVICE_ROLE_KEY`.
- JWT-based middleware `authenticateUser` to extract `user.id`.

---

## üóÇÔ∏è 2. Database Schema

- **companies**: company name, domain, industry, subscription
- **user_profiles**: roles, departments, manager, linked to `auth.users`
- **departments**: per company
- **review_cycles**: quarterly, annual, etc.
- **performance_reviews**: manager/self/peer/360 review submissions
- **feedback**: anonymous or formal, with sentiment scoring
- **performance_metrics**: third-party integrations (Jira, Slack, Trello, GitHub)
- **ai_insights**: predictions and flags generated by AI

**RLS Policies** enforced for scoped access (employee, manager, admin)

---

## üß± 3. Backend Routes Implemented

| Module              | Routes Added                                       |
|---------------------|----------------------------------------------------|
| Auth / Middleware   | `authenticateUser` from JWT                        |
| Companies           | Full CRUD under `/api/v1/companies`                |
| Departments         | Full CRUD under `/api/v1/departments`              |
| Review Cycles       | Full CRUD under `/api/v1/review-cycles`            |
| Feedback            | With sentiment & AI flags                          |
| Performance Metrics | From third-party tools                             |
| AI Insights         | AI-generated flags/predictions                     |
| User Profiles       | `/api/v1/users/sync-profile`                       |

---

## üß™ 4. Testing

- Verified many endpoints via Postman with Bearer tokens.
- Reminder: **Test all routes later**.

---

## üß∞ 5. Admin Seed Script

- `scripts/seedAdmin.ts`
- Creates:
  - Sample company
  - Admin user (email confirmed)
  - Associated user_profile row

Run with:
```bash
npm run seed:admin
```

---

## ‚úÖ Git Commit Conventions

No emojis, scoped messages like:

- `git commit -m "Add full CRUD routes for review cycles with authentication"`
- `git commit -m "Add seed script for admin user and sample company"`

---